I"H<p><a href="https://docs.anaconda.com/">Anaconda</a> is a super powerful tool for scientific computing and provides a simple package management and deployment system. Although this post is primarily for use on the work station, Anaconda is an industry standard and is a great program to learn!</p>

<p>On our work station, Anaconda is the tool we’ve chosen for isolating our python environments. Isolation essentially means that each user can install and configure python packages however they please <em>without</em> messing around with everyone elses. You <em>must</em> use Anaconda to install python packages, as it is the only place where python is available. Furthermore, you need Anaconda for other tools, such as JupyterHub and the simulation. Anaconda is not restricted to just python, as it can be used to install other software tools independent from the whole system.</p>

<h2 id="setup-guide">Setup Guide</h2>

<p>Setup is fairly simple and straight forward. Please SSH to the work station. Refer to <a href="/posts/ssh">this post</a> for an explanation on how to do that.</p>

<h3 id="load-anaconda">Load Anaconda</h3>

<p>Anaconda is already installed to the system via <a href="/posts/modules">Modules</a>. To load the anaconda module, run the following command:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
</pre></td> --><td class="rouge-code"><pre>module load anaconda/4.9.2
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Running <code class="language-plaintext highlighter-rouge">conda env list</code> should now display two environments installed to the system.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td> --><td class="rouge-code"><pre><span class="gp">user@name:~$</span><span class="w"> </span>conda <span class="nb">env </span>list
<span class="gp">#</span><span class="w"> </span>conda environments:
<span class="gp">#</span><span class="w">
</span><span class="go">base                     /usr/local/share/anaconda/4.9.2
jupyter                  /usr/local/share/anaconda/4.9.2/envs/jupyter
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">base</code> environment is the default environment for Anaconda. The <code class="language-plaintext highlighter-rouge">jupyter</code> env is used for <a href="/posts/jupyter-hub">JupyterHub</a>.</p>

<h3 id="creating-a-user-environment">Creating a User Environment</h3>

<p>You will want to create a user environment so that you can install and uninstall packages. By default, the <code class="language-plaintext highlighter-rouge">base</code> and <code class="language-plaintext highlighter-rouge">jupyter</code> environments are read only, so you can’t actually configure anything in those environments.</p>

<p>As an example, we will create a conda environment with python3.8 installed. To create this environment with the name <code class="language-plaintext highlighter-rouge">wa</code> and install python3.8, run the following command:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
</pre></td> --><td class="rouge-code"><pre>conda create <span class="nt">--name</span> wa <span class="nv">python</span><span class="o">=</span>3.8
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Running <code class="language-plaintext highlighter-rouge">conda env list</code> should now display <em>three</em> environments installed to the system.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td> --><td class="rouge-code"><pre><span class="gp">user@name:~$</span><span class="w"> </span>conda <span class="nb">env </span>list
<span class="gp">#</span><span class="w"> </span>conda environments:
<span class="gp">#</span><span class="w">
</span><span class="gp">wa                       /filespace/a/&lt;username&gt;</span>/.conda/envs/wa
<span class="go">base                     /usr/local/share/anaconda/4.9.2
jupyter                  /usr/local/share/anaconda/4.9.2/envs/jupyter
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="activating-a-conda-environment">Activating a Conda Environment</h3>

<p>With your conda environment created, you can now activate the environment to be able to install/configure packages locally. To do that, run the following:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
</pre></td> --><td class="rouge-code"><pre>conda activate wa
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>Note: Replace <code class="language-plaintext highlighter-rouge">wa</code> with any package name present in <code class="language-plaintext highlighter-rouge">conda env list</code>, if you’d like.</p>
</blockquote>

<h2 id="configuring-your-shell">Configuring your Shell</h2>

<p>For most people, python and anaconda will be used very often. It is recommended to add the previous configuration commands directly to your shell script. This means that when you open up a terminal window, everything will be configured <em>automatically</em>.</p>

<p>To do that, run the following (<em>for non-bash users, make sure you change .bashrc to your shell profile</em>):</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td> --><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"module load anaconda/4.9.2"</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">echo</span> <span class="s2">"conda activate wa"</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<h2 id="support">Support</h2>

<p>Contact <a href="mailto:aryoung5@wisc.edu">Aaron Young</a> for any questions or concerns regarding the contents of this repository.</p>

<h2 id="see-also">See Also</h2>

<p>Stay up to date with our technical info by following our <a href="https://www.wisconsinautonomous.org/blog">blog</a>.</p>

<p>Follow us on <a href="https://www.facebook.com/wisconsinautonomous/">Facebook</a>, <a href="https://www.instagram.com/wisconsinautonomous/">Instagram</a>, and <a href="https://www.linkedin.com/company/wisconsin-autonomous/about/">LinkedIn</a>!</p>

<p><img src="/assets/img/logos/wa-white.png" alt="WA Logo" class="left" height="100" />
<img src="/assets/img/logos/uw-crest.png" alt="Wisconsin Crest" class="right" height="100" /></p>
:ET